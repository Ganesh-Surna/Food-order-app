{"ast":null,"code":"import _slicedToArray from \"C:/Users/GaneshSurna/Desktop/Successful_React_Projects/food-order-app-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"C:/Users/GaneshSurna/Desktop/Successful_React_Projects/food-order-app-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/GaneshSurna/Desktop/Successful_React_Projects/food-order-app-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\GaneshSurna\\\\Desktop\\\\Successful_React_Projects\\\\food-order-app-forked\\\\src\\\\context-store\\\\CartContextProvider.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport CartContext from \"./CartContext1\";\nimport React, { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar cartObject = {\n  items: [],\n  totalAmount: 0\n};\nvar cartReducer = function cartReducer(state, action) {\n  if (action.type === \"ADD\") {\n    var _updatedTotalAmount = state.totalAmount + action.item.amount * action.item.price;\n    var existingItemIndex = state.items.findIndex(function (eachItem) {\n      return eachItem.id === action.item.id;\n    });\n    var existingItem = state.items[existingItemIndex];\n    var updatedItems;\n    if (existingItem) {\n      var updatedQuantity = existingItem.amount + action.item.amount;\n      var updatedItem = _objectSpread(_objectSpread({}, existingItem), {}, {\n        amount: updatedQuantity\n      });\n      updatedItems = _toConsumableArray(state.items);\n      updatedItems[existingItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n    return {\n      items: updatedItems,\n      totalAmount: _updatedTotalAmount\n    };\n  }\n  if (action.type === \"REMOVE\") {\n    var _existingItemIndex = state.items.findIndex(function (eachItem) {\n      return eachItem.id === action.id;\n    });\n    var _existingItem = state.items[_existingItemIndex];\n    var _updatedItems;\n    if (_existingItem.amount === 1) {\n      _updatedItems = state.items.filter(function (eachItem) {\n        return eachItem.id !== action.id;\n      });\n      var _updatedTotalAmount2 = state.totalAmount - _existingItem.price;\n    } else {\n      var _updatedQuantity = _existingItem.item - 1;\n      var _updatedItem = _objectSpread(_objectSpread({}, _existingItem), {}, {\n        amount: _updatedQuantity\n      });\n      _updatedItems = _toConsumableArray(state.items);\n      _updatedItems[_existingItemIndex] = _updatedItem;\n    }\n    return {\n      items: _updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  return cartObject;\n};\nvar CartContextProvider = function CartContextProvider(props) {\n  _s();\n  var _useReducer = useReducer(cartReducer, cartObject),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    cartState = _useReducer2[0],\n    dispatchCart = _useReducer2[1];\n  var handleAddItemToCart = function handleAddItemToCart(item) {\n    console.log(item);\n    dispatchCart({\n      type: \"ADD\",\n      item: item\n    });\n  };\n  var handleRemoveItemFromCart = function handleRemoveItemFromCart(id) {\n    dispatchCart({\n      type: \"REMOVE\",\n      id: id\n    });\n  };\n  var contextObj = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: handleAddItemToCart,\n    removeItem: handleRemoveItemFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: contextObj,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, _this);\n};\n_s(CartContextProvider, \"ak/x9R/AT2DYekPkFQFgF2Eaeds=\");\n_c = CartContextProvider;\nexport default CartContextProvider;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["CartContext","React","useReducer","jsxDEV","_jsxDEV","cartObject","items","totalAmount","cartReducer","state","action","type","updatedTotalAmount","item","amount","price","existingItemIndex","findIndex","eachItem","id","existingItem","updatedItems","updatedQuantity","updatedItem","_objectSpread","_toConsumableArray","concat","filter","CartContextProvider","props","_s","_useReducer","_useReducer2","_slicedToArray","cartState","dispatchCart","handleAddItemToCart","console","log","handleRemoveItemFromCart","contextObj","addItem","removeItem","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["C:/Users/GaneshSurna/Desktop/Successful_React_Projects/food-order-app-forked/src/context-store/CartContextProvider.js"],"sourcesContent":["import CartContext from \"./CartContext1\";\r\nimport React,{useReducer} from \"react\";\r\n\r\nconst cartObject={\r\n    items:[],\r\n    totalAmount:0\r\n};\r\n\r\nconst cartReducer=(state,action)=>{\r\n    if(action.type===\"ADD\"){\r\n        const updatedTotalAmount=state.totalAmount+action.item.amount*action.item.price;\r\n\r\n        const existingItemIndex=state.items.findIndex((eachItem)=>{\r\n            return eachItem.id===action.item.id;\r\n        });\r\n\r\n        const existingItem=state.items[existingItemIndex];\r\n\r\n        let updatedItems;\r\n\r\n        if(existingItem){\r\n            const updatedQuantity=existingItem.amount + action.item.amount;\r\n            const updatedItem={...existingItem, amount:updatedQuantity};\r\n            updatedItems=[...state.items];\r\n            updatedItems[existingItemIndex]=updatedItem;\r\n        }\r\n        else{\r\n            updatedItems=state.items.concat(action.item);\r\n        }\r\n\r\n        return {items:updatedItems, totalAmount:updatedTotalAmount};\r\n    }\r\n    if(action.type===\"REMOVE\"){\r\n        const existingItemIndex=state.items.findIndex((eachItem)=>{\r\n            return eachItem.id===action.id;\r\n        });\r\n\r\n        const existingItem=state.items[existingItemIndex];\r\n\r\n        let updatedItems;\r\n\r\n        if(existingItem.amount===1){\r\n            updatedItems=state.items.filter((eachItem)=>{\r\n                return eachItem.id !== action.id;\r\n            });\r\n            const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n        }\r\n        else{\r\n            const updatedQuantity=existingItem.item-1;\r\n            const updatedItem={...existingItem, amount:updatedQuantity}\r\n            updatedItems=[...state.items];\r\n            updatedItems[existingItemIndex]=updatedItem;\r\n        }\r\n        return {items:updatedItems, totalAmount:updatedTotalAmount};\r\n    }\r\n    return cartObject;\r\n};\r\n\r\nconst CartContextProvider=(props)=>{\r\n\r\n    const [cartState,dispatchCart]=useReducer(cartReducer,cartObject);\r\n\r\n    const handleAddItemToCart=(item)=>{\r\n        console.log(item);\r\n        dispatchCart({type:\"ADD\", item:item});\r\n    };\r\n\r\n    const handleRemoveItemFromCart=(id)=>{\r\n        dispatchCart({type:\"REMOVE\", id:id});\r\n    };\r\n\r\n    const contextObj={\r\n        items:cartState.items,\r\n        totalAmount:cartState.totalAmount,\r\n        addItem:handleAddItemToCart,\r\n        removeItem:handleRemoveItemFromCart\r\n    };\r\n\r\n    return(\r\n        <CartContext.Provider value={contextObj}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\nexport default CartContextProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}